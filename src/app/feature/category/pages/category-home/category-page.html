<div class="flex justify-between items-center mb-4">
  <h2 class="text-2xl text-gray-700 font-bold">
    Categorias
  </h2>

  <button pButton type="button" size="small" (click)="openSaveCategoryDlg()">
    <i class="ti ti-plus text-lg"></i>
    Nueva categoria
  </button>
</div>

<div class="bg-white rounded-lg pt-2 border border-gray-300 shadow">
  <p-table [value]="categories()"
           [paginator]="true"
           paginatorStyleClass="flex! justify-end!"
           [rows]="rows"
           [first]="first"
           [showCurrentPageReport]="true"
           [tableStyle]="{ 'min-width': '50rem' }"
           currentPageReportTemplate="{first} – {last} de {totalRecords}"
           (onPage)="pageChange($event)"
           [rowsPerPageOptions]="[10, 25, 50]">
    <ng-template #header>
      <tr>
        <th class="font-bold!">Image</th>
        <th class="font-bold!">Nombre</th>
        <th class="font-bold!">Descripción</th>
        <th class="font-bold!">Activo</th>
        <th class="font-bold!">Acciones</th>
      </tr>
    </ng-template>
    <ng-template #body let-category>
      <tr>
        <td>
          <img
            [src]="category.image"
            [alt]="category.name"
            class="size-12 object-cover rounded"
          />
        </td>
        <td>{{ category.name }}</td>
        <td>{{ category.description }}</td>
        <td>
          @if (category.active) {
            <p-tag severity="success" value="Activo" />
          } @else {
            <p-tag severity="danger" value="Inactivo" />
          }
        </td>
        <td>
          <button type="button" pButton text size="small" rounded (click)="openSaveCategoryDlg(category)">
            <i class="ti ti-pencil text-xl"></i>
          </button>

          <button type="button" pButton text size="small" rounded severity="danger">
            <i class="ti ti-trash text-xl"></i>
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

